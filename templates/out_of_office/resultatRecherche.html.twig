{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        <div class="list">
            {% for coworking in espaceDeCoworking %}
                <div class="item js-marker" data.lat="{{coworking.lat}}" data.lng="{{coworking.longitude}}" data-price={{coworking.prix}}>
                <img src="https://via.placeholder.com/400x260" alt="">
                <h4> {{coworking.titre}} </h4>
                <p>
                    {{coworking.prix}}
                    {{coworking.cafe}}
                    {{coworking.adresse}}
                    {{coworking.descriptif}}
                    {{coworking.heureOuverture}}
                    {{coworking.heureFermeture}}


                </p>
            {% endfor %}
        </div>
        <div class="map" id="map">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>
   <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>
    <style>
        #map { height: 70%; }
    </style>



    <script>
       //Initialisation de la carte
       let $map = document.querySelector('#map')

       if ($map !== null)
       {

       }
       
       let map = L.map('map').setView([45.4248753, 2.7873028], 6);
       L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
            accessToken: 'pk.eyJ1Ijoid2VieWMiLCJhIjoiY2pzYnQ0MDByMDMzazRhbnl6NnNrZnVsYiJ9.MQe0cRrJaGs-t4vjt4MXoQ'
        }).addTo(map);
       //Getter
        L.popup()
        .setLatLng([45.4248753, 2.7873028])
        .setContent('<p>Hello world!<br />This is a nice popup.</p>')
        .openOn(map);
        
    </script>

        </div>

    </div>



{% endblock %}